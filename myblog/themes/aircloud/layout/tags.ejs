<div id='tag_cloud' class="tags">

    <style>
            #tag_cloud a,
        #tag_cloud .tag {
            font-size: 14px;
            border: none;
            line-height: 28px;
            margin: 0 2px;
            margin-bottom: 8px;
            background: #D6D6D6;
        }
        
        @media only screen and (min-width: 768px) {
            .tags a,
            .tags .tag {
                margin-right: 5px;
            }
            .tags {
                text-align: center;
                margin-top: 20px;
            }
            .tags a,
            .tags .tag {
                display: inline-block;
                border: 1px solid rgba(255, 255, 255, 0.8);
                border-radius: 4px;
                padding: 0 10px;
                color: #ffffff;
                line-height: 24px;
                font-size: 12px;
                text-decoration: none;
                margin: 0 1px;
                margin-bottom: 6px;
            }
            .tags a:hover,
            .tags .tag:hover,
            .tags a:active,
            .tags .tag:active {
                color: white;
                border-color: white;
                background-color: rgba(255, 255, 255, 0.4);
                text-decoration: none;
            }
            #tag_cloud a:hover,
            #tag_cloud .tag:hover,
            #tag_cloud a:active,
            #tag_cloud .tag:active {
                background-color: #0085a1 !important;
            }
    </style>

    <!-- 标签云1 -->
    <div id='tag_cloud' class="tags">
        <% site.tags.map(function(tag){ %>
            <a href="#<%= tag.name %>" title="<%= tag.name %>" rel="<%= tag.length %>">
                <%= tag.name %>
            </a>
            <% }) %>
    </div>
</div>

<!-- 标签列表 -->

<% site.tags.map(function(tag){  %>
    <div class="one-tag-list">
        <span class="fa fa-tag listing-seperator" id="<%= tag.name %>">
                    <span class="tag-text"><%= tag.name %></span>
        </span>
        <% tag.posts.map(function(post){  %>
            <!-- <li class="listing-item">
    <time datetime="{{ post.date | date:"%Y-%m-%d" }}">{{ post.date | date:"%Y-%m-%d" }}</time>
    <a href="{{ post.url }}" title="{{ post.title }}">{{ post.title }}</a>
    </li> -->
            <div class="post-preview">
                <a href="<%- config.root %><%- post.path %>">
                    <h2 class="post-title">
                        <%- (post.title || "Untitled").replace(/[<>&"]/g,function(c){
                    return {'<':'&lt;','>':'&gt;','&':'&amp;','"':'&quot;'}[c];
                }) %>
                    </h2>
                    <% if (post.subtitle && post.subtitle.length) { %>
                        <h3 class="post-subtitle">
                            <%- post.subtitle %>
                        </h3>
                        <% } %>
                </a>
                <script>
                    function async(u, c) {
                        var d = document,
                            t = 'script',
                            o = d.createElement(t),
                            s = d.getElementsByTagName(t)[0];
                        o.src = u;
                        if (c) {
                            o.addEventListener('load', function(e) {
                                c(null, e);
                            }, false);
                        }
                        s.parentNode.insertBefore(o, s);
                    }
                </script>


                <script src="/js/jquery.min.js"></script>

                <script>
                    if ($('#tag_cloud').length !== 0) {
                        async("https://haojen.github.io/js/jquery.tagcloud.js", function() {
                            $.fn.tagcloud.defaults = {
                                //size: {start: 1, end: 1, unit: 'em'},
                                color: {
                                    start: '#bbbbee',
                                    end: '#0085a1'
                                },
                            };
                            $('#tag_cloud a').tagcloud();
                        })
                    }
                </script>
                <!-- <p class="post-meta">{{ post.date | date:"%Y-%m-%d" }}</p> -->
            </div>
            <% }) %>
    </div>
    <% }) %>